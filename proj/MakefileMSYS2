CXX = g++
CXXFLAGS = -std=c++17 -I"C:/Users/vedmix/SFML-2.6.2/include" -DSFML_STATIC
LDFLAGS = -L"C:/Users/vedmix/SFML-2.6.2/lib"
LIBS = -lsfml-graphics -lsfml-window -lsfml-system \
       -lopengl32 -lfreetype -lwinmm -lgdi32 \
       -static-libgcc -static-libstdc++

SOURCES = src/Camera.cpp src/Circle.cpp src/Map.cpp src/Object2D.cpp \
          src/Point2D.cpp src/Polygon2D.cpp src/Wall.cpp src/World.cpp src/main.cpp

OBJECTS = $(SOURCES:src/%.cpp=build/%.o)
TARGET = bin/sfml-app.exe

$(TARGET): $(OBJECTS)
	$(CXX) $(OBJECTS) -o $(TARGET) $(LDFLAGS) $(LIBS)

build/%.o: src/%.cpp
	@mkdir -p build
	$(CXX) $(CXXFLAGS) -c $< -o $@

clean:
	rm -rf build bin

.PHONY: clean